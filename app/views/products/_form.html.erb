<%= form_with(model: product) do |form| %>
  <% if product.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(product.errors.count, "error") %> prohibited this product from being saved:</h2>
      <ul>
        <% product.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
  <div class="card">
    <% if product.image.attached? %>
      <%= image_tag product.image %>
    <% end %>
    <ul class="list-group list-group-flush">
      <li class="list-group-item"><strong>Nom:</strong> <%= form.text_field :name, class:"form-control", :required => true %></li>
      <li class="list-group-item"><strong>Catégorie:</strong> <%= form.select :category_id, @categories, {}, class:"form-select" %></li>
      <li class="list-group-item"><strong>Image:</strong><%= form.file_field :image, class:"form-control" %></li>
      <li class="list-group-item"><strong>Date de sortie:</strong> <%= form.date_field :date, class:"form-control" , :required => true %></li>
      <li class="list-group-item"><strong>Description:</strong> <%= form.text_area :description, class:"form-control" %></li>
      <li class="list-group-item"><strong>Prix:</strong> <%= form.number_field :price, step: 0.05, class:"form-control" , :required => true %></li>
      <li class="list-group-item"><strong>Quantité:</strong> <%= form.number_field :quantity, class:"form-control" , :required => true %></li>
      <li class="list-group-item"><strong>Stock minimum:</strong> <%= form.number_field :min_stock, class:"form-control" %></li>
      <li class="list-group-item"><strong>Disponible:</strong> <%= form.check_box :available, class:"form-check-input" %></li>
    </ul>
    <div class="card-body">
      <div class="actions">
        <%= form.submit class:"btn btn-dark"  %>
      </div>
    </div>
  </div>
<% end %>
